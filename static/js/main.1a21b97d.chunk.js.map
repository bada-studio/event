{"version":3,"sources":["js/scatterBridge.js","js/app.js","index.js"],"names":["ScatterBridge","network","appName","Object","classCallCheck","this","ScatterJS","plugins","ScatterEOS","account","eosOptions","expireInSeconds","isConnected","contract","eosApi","net","Network","fromJson","auth","connect","console","error","eos","Eos","login","then","id","_this","authorization","concat","name","authority","transfer","res","log","catch","err","App","props","possibleConstructorReturn","getPrototypeOf","call","blockchain","chainId","host","port","protocol","scatter","onClick","bind","assertThisInitialized","loadContract","signup","react_default","a","createElement","className","Component","ReactDOM","render","js_app","document","getElementById"],"mappings":"4bAIqBA,aAEnB,SAAAA,EAAYC,EAASC,GAAUC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GAC7BK,KAAKH,QAAUA,EACfI,IAAUC,QAAQ,IAAIC,KAEtBH,KAAKI,QAAU,KACfJ,KAAKK,WAAa,CAAEC,gBAAgB,IACpCN,KAAKO,aAAc,EACnBP,KAAKQ,SAAW,KAEhBR,KAAKS,OAAS,KACdT,KAAKU,IAAMT,IAAUU,QAAQC,SAAShB,GACtCI,KAAKa,KAAO,uLAINjB,EAAUI,KAAKU,aACIT,IAAUa,QAAQd,KAAKH,QAAS,CAACD,sBAA1DI,KAAKO,mBACAP,KAAKO,qDACDQ,QAAQC,MAAM,oCAGvBhB,KAAKS,OAASR,IAAUgB,IAAIjB,KAAKU,IAAKQ,cAChCjB,IAAUkB,QAAQC,KAAK,SAAAC,GACzB,IAAIA,EAAI,OAAON,QAAQC,MAAM,eAC7BM,EAAKlB,QAAUH,IAAUG,QAAQ,OACjCkB,EAAKT,KAAO,CAACU,cAAc,IAAAC,OAAIF,EAAKlB,QAAQqB,KAAjB,KAAAD,OAAyBF,EAAKlB,QAAQsB,uCAG/D1B,KAAKS,OAAOkB,SAAS3B,KAAKI,QAAQqB,KAAM,eAAgB,aAAczB,KAAKI,QAAQqB,KAAMzB,KAAKa,MAAMO,KAAK,SAAAQ,GAC3Gb,QAAQc,IAAI,SAAUD,KACvBE,MAAM,SAAAC,GACLhB,QAAQC,MAAM,UAAWe,aAG7BhB,QAAQc,IAAI,yLAGKJ,mFACKzB,KAAKS,OAAOD,SAASiB,UAA3CzB,KAAKQ,4HCFMwB,cArCb,SAAAA,EAAYC,GAAO,IAAAX,EAAA,OAAAxB,OAAAC,EAAA,EAAAD,CAAAE,KAAAgC,IACjBV,EAAAxB,OAAAoC,EAAA,EAAApC,CAAAE,KAAAF,OAAAqC,EAAA,EAAArC,CAAAkC,GAAAI,KAAApC,KAAMiC,KAEDrC,QAAU,CACXyC,WAAW,MACXC,QAAQ,mEACRC,KAAM,iBACNC,KAAK,IACLC,SAAS,SAGbnB,EAAKoB,QAAU,IAAI/C,EAAc2B,EAAK1B,QAAS,YAC/C0B,EAAKqB,QAAUrB,EAAKqB,QAAQC,KAAb9C,OAAA+C,EAAA,EAAA/C,QAAA+C,EAAA,EAAA/C,CAAAwB,KAZEA,8LAgBXoB,EAAU1C,KAAK0C,QACrB3B,QAAQc,IAAI,cACNa,EAAQ5B,wBACdC,QAAQc,IAAI,cACNa,EAAQI,aAAa,8BAC3B/B,QAAQc,IAAI,eACNa,EAAQlC,SAASuC,OAAO,eAAgBL,EAAQtC,QAAQqB,KAAMiB,EAAQ7B,cAC5EE,QAAQc,IAAI,yIAIZ,OACEmB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,UAAQP,QAAS3C,KAAK2C,SAAtB,iBA/BQS,aCClBC,IAASC,OAAON,EAAAC,EAAAC,cAACK,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.1a21b97d.chunk.js","sourcesContent":["import ScatterJS from 'scatterjs-core';\nimport ScatterEOS from 'scatterjs-plugin-eosjs';\nimport Eos from 'eosjs';\n\nexport default class ScatterBridge {\n\n  constructor(network, appName) {\n    this.appName = appName;\n    ScatterJS.plugins(new ScatterEOS());\n\n    this.account = null;\n    this.eosOptions = { expireInSeconds:60 };\n    this.isConnected = false;\n    this.contract = null;\n\n    this.eosApi = null;\n    this.net = ScatterJS.Network.fromJson(network);\n    this.auth = null;\n  }\n\n  async connect() {\n    const network = this.net;\n    this.isConnected = await ScatterJS.connect(this.appName, {network});\n    if (!this.isConnected) {\n      return console.error('connection failed');\n    }\n\n    this.eosApi = ScatterJS.eos(this.net, Eos);\n    await ScatterJS.login().then(id => {\n        if(!id) return console.error('no identity');\n        this.account = ScatterJS.account('eos');\n        this.auth = {authorization:[`${this.account.name}@${this.account.authority}`]};\n    });\n\n    await this.eosApi.transfer(this.account.name, 'safetransfer', '0.0001 EOS', this.account.name, this.auth).then(res => {\n        console.log('sent: ', res);\n    }).catch(err => {\n        console.error('error: ', err);\n    });\n\n    console.log(\"wait1\");\n  }\n\n  async loadContract(name) {\n    this.contract = await this.eosApi.contract(name);\n  }\n}","import React, { Component } from \"react\";\nimport \"../css/app.css\";\nimport ScatterBridge from \"./scatterBridge\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.network = {\n        blockchain:'eos',\n        chainId:'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',\n        host: \"api.eoseoul.io\",\n        port:443,\n        protocol:'https'\n    };\n\n    this.scatter = new ScatterBridge(this.network, \"EK Event\");\n    this.onClick = this.onClick.bind(this);\n  }\n\n  async onClick() {\n    const scatter = this.scatter;\n    console.log(\"1\");\n    await scatter.connect();\n    console.log(\"2\");\n    await scatter.loadContract(\"eosknightsio\");\n    console.log(\"3\");\n    await scatter.contract.signup(\"raindaysmain\", scatter.account.name, scatter.auth);\n    console.log(\"4\");\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <button onClick={this.onClick}>Test</button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './js/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}