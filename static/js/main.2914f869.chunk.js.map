{"version":3,"sources":["js/scatterBridge.js","js/app.js","index.js"],"names":["ScatterBridge","network","appName","Object","classCallCheck","this","ScatterJS","plugins","ScatterEOS","scatter","currentAccount","reqFields","accounts","eosOptions","expireInSeconds","eosApi","eos","Eos","isConnected","connect","then","connected","_this","console","log","window","getIdentity","_this2","identity","find","x","blockchain","actions","length","transact","blocksBehind","expireSeconds","contract","actionName","data","perm","arguments","undefined","authority","account","name","authorization","actor","permission","App","props","possibleConstructorReturn","getPrototypeOf","call","protocol","host","port","chainId","onClick","bind","assertThisInitialized","react_default","a","createElement","className","Component","ReactDOM","render","js_app","document","getElementById"],"mappings":"2bAIqBA,aAEjB,SAAAA,EAAYC,EAASC,GAAUC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GAC3BK,KAAKH,QAAUA,EACfI,IAAUC,QAAQ,IAAIC,KAEtBH,KAAKI,QAAUH,IAAUG,QACzBJ,KAAKJ,QAAUA,EACfI,KAAKK,eAAiB,KACtBL,KAAKM,UAAY,CAAEC,SAAU,CAACX,IAE9BI,KAAKQ,WAAa,CAAEC,gBAAgB,IACpCT,KAAKU,OAASV,KAAKI,QAAQO,IAAIf,EAASgB,IAAKZ,KAAKQ,YAClDR,KAAKa,aAAc,2LAIbb,KAAKI,QAAQU,QAAQd,KAAKH,SAASkB,KAAK,SAAAC,GAC1CC,EAAKJ,YAAcG,EACnBE,QAAQC,IAAI,aAAeH,GAC3BI,OAAOnB,UAAY,sQAKnBD,KAAKa,4CACCb,KAAKI,QAAQiB,YAAYrB,KAAKM,WAAWS,KAAK,WAChDO,EAAKjB,eAAiBiB,EAAKlB,QAAQmB,SAAShB,SAASiB,KAAK,SAAAC,GAAC,MAAqB,QAAjBA,EAAEC,4CAGrER,QAAQC,IAAI,oMAIPQ,uEACNA,EAAQC,uCACD5B,KAAKU,OAAOmB,SAAS,CACvBF,QAASA,GACV,CAACG,aAAc,EAAGC,cAAe,8IAI9BnC,GACVI,KAAKU,OAASV,KAAKI,QAAQO,IAAIf,EAASgB,IAAKZ,KAAKQ,+CAG3CwB,EAAUC,EAAYC,GAA4C,IAAtCC,EAAsCC,UAAAR,OAAA,QAAAS,IAAAD,UAAA,GAAAA,UAAA,GAA/BpC,KAAKK,eAAeiC,UAC9D,MAAO,CACHC,QAASP,EACTQ,KAAMP,EACNQ,cAAe,CAAC,CACZC,MAAO1C,KAAKK,eAAemC,KAC3BG,WAAYR,IAEhBD,KAAMA,YCtBHU,cA/Bb,SAAAA,EAAYC,GAAO,IAAA5B,EAAA,OAAAnB,OAAAC,EAAA,EAAAD,CAAAE,KAAA4C,IACjB3B,EAAAnB,OAAAgD,EAAA,EAAAhD,CAAAE,KAAAF,OAAAiD,EAAA,EAAAjD,CAAA8C,GAAAI,KAAAhD,KAAM6C,KAEDjD,QAAU,CACb8B,WAAY,MACZuB,SAAU,QACVC,KAAM,iBACNC,KAAM,IACNC,QAAS,oEAGXnC,EAAKb,QAAU,IAAIT,EAAcsB,EAAKrB,QAAS,oBAC/CqB,EAAKoC,QAAUpC,EAAKoC,QAAQC,KAAbxD,OAAAyD,EAAA,EAAAzD,QAAAyD,EAAA,EAAAzD,CAAAmB,KAZEA,iMAgBXjB,KAAKI,QAAQU,iCACbd,KAAKI,QAAQiB,iJAInB,OACEmC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,UAAQL,QAASrD,KAAKqD,SAAtB,iBAzBQO,aCClBC,IAASC,OAAON,EAAAC,EAAAC,cAACK,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.2914f869.chunk.js","sourcesContent":["import ScatterJS from 'scatterjs-core';\nimport ScatterEOS from 'scatterjs-plugin-eosjs';\nimport Eos from 'eosjs';\n\nexport default class ScatterBridge {\n\n    constructor(network, appName) {\n        this.appName = appName;\n        ScatterJS.plugins(new ScatterEOS());\n\n        this.scatter = ScatterJS.scatter;\n        this.network = network;\n        this.currentAccount = null;\n        this.reqFields = { accounts: [network] };\n\n        this.eosOptions = { expireInSeconds:60 };\n        this.eosApi = this.scatter.eos(network, Eos, this.eosOptions);\n        this.isConnected = false;\n    }\n\n    async connect() {\n        await this.scatter.connect(this.appName).then(connected => {\n            this.isConnected = connected;\n            console.log(\"connected:\" + connected);\n            window.ScatterJS = null;\n        });\n    }\n\n    async getIdentity() {\n        if (this.isConnected) {\n            await this.scatter.getIdentity(this.reqFields).then(() => {\n                this.currentAccount = this.scatter.identity.accounts.find(x => x.blockchain === \"eos\");\n            });\n        } else {\n            console.log(\"check connection first!\");\n        }\n    }\n\n    async sendTx(actions) {\n        if(actions.length) {\n            await this.eosApi.transact({\n                actions: actions\n            }, {blocksBehind: 3, expireSeconds: 30 });\n        }\n    }\n\n    updateNetwork(network) {\n        this.eosApi = this.scatter.eos(network, Eos, this.eosOptions);\n    }\n\n    makeAction(contract, actionName, data, perm = this.currentAccount.authority) {\n        return {\n            account: contract,\n            name: actionName,\n            authorization: [{\n                actor: this.currentAccount.name,\n                permission: perm// this.currentAccount.authority\n            }],\n            data: data\n        };\n    }\n}","import React, { Component } from \"react\";\nimport \"../css/app.css\";\nimport ScatterBridge from \"./scatterBridge\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.network = {\n      blockchain: \"eos\",\n      protocol: \"https\",\n      host: \"api.eoseoul.io\",\n      port: 443,\n      chainId: \"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906\"\n    };\n\n    this.scatter = new ScatterBridge(this.network, \"EOS Knight Event\");\n    this.onClick = this.onClick.bind(this);\n  }\n\n  async onClick() {\n    await this.scatter.connect();\n    await this.scatter.getIdentity();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <button onClick={this.onClick}>Test</button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './js/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}