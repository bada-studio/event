{"version":3,"sources":["Components/PostWrapper/PostWrapper.js","Components/Header/Header.js","Components/EventPost/EventPost.js","Config.js","Services/ChainService.js","Containers/PostContainer/PostContainer.js","Utils/ScatterBridge.js","App.js","index.js"],"names":["PostWrapper","_ref","children","react_default","a","createElement","className","Header","EventPost","sponsor","imgUrl","body","src","Button","color","content","icon","labelPosition","Config","network","blockchain","chainId","host","port","protocol","ChainService","Object","classCallCheck","this","_Config$network","concat","code","table","url","getTableUrl","data","scope","json","axios","post","headers","content-type","PostContainer","props","_this","possibleConstructorReturn","getPrototypeOf","call","fetchItemEventInfo","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","setState","fetching","chain","readTable","sent","console","log","info","rows","stop","state","id","from","duration","_this$state","Components_PostWrapper_PostWrapper","Components_EventPost_EventPost","Component","ScatterBridge","appName","ScatterJS","plugins","ScatterEOS","account","eosOptions","expireInSeconds","isConnected","contract","eosApi","net","Network","fromJson","auth","connect","error","eos","Eos","login","then","authorization","name","authority","App","scatter","onClick","bind","assertThisInitialized","loadContract","signup","Components_Header_Header","Containers_PostContainer_PostContainer","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.6fc092d9.chunk.js","sourcesContent":["import React from 'react';\nimport './PostWrapper.css'\n\nconst PostWrapper = ({children}) => {\n    return (\n        <div className=\"PostWrapper\">\n            {children}\n        </div>\n    );\n};\n\nexport default PostWrapper;\n","import React from 'react';\nimport './Header.css';\n\nconst Header = () => (\n    <div className=\"Header\">\n        POSTS\n    </div>\n)\n\nexport default Header;","import React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport './EventPost.css';\n\nconst EventPost = ({sponsor, body, imgUrl}) => (\n  <div className=\"EventPost\">\n    <h1>{sponsor} x EOS Knights</h1>\n    <p>\n    </p>\n    <p>\n      <img src={imgUrl} className=\"itemIcon\"/>\n    </p>\n\n    <Button\n        color=\"teal\"\n        content=\"Next\"\n        icon=\"right arrow\"\n        labelPosition=\"right\"\n        className=\"Navigate-right-button\"\n    />     \n  </div>\n);\n\nexport default EventPost;","const Config = {\n  sponsor: \"EOS Authority\",\n  network: {\n    blockchain:'eos',\n    chainId:'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',\n    host: \"api.eoseoul.io\",\n    port:443,\n    protocol:'https'\n  }\n};\n\nexport default Config;\n","import axios from 'axios';\nimport Config from '../Config';\n\nexport default class ChainService {\n  constructor(network) {\n  }\n\n  getTableUrl() {\n    const { protocol, host, port } = Config.network;\n    return `${protocol}://${host}:${port}/v1/chain/get_table_rows`;\n  }\n\n  async readTable(code, table) {\n    const url = this.getTableUrl();\n    const data = {\n      scope: code,\n      code: code,\n      table: table,\n      json: true\n    };\n\n    return await axios.post(url, data, {\n      headers: { \n        'content-type': 'text/plain'\n      }\n    });\n  }\n}","import React, {Component} from 'react';\nimport { PostWrapper, EventPost } from '../../Components';\nimport { ChainService } from \"../../Services\";\nimport Config from \"../../Config\";\n\nclass PostContainer extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      fetching: false, \n      info: {\n        id:0,\n        code:0,\n        from:0,\n        duration:0,\n      },\n      sponsor:Config.sponsor,\n      imgUrl:\"\"\n    };\n\n    this.chain = new ChainService(Config.network);\n  }\n\n  fetchItemEventInfo = async() => {\n    this.setState({\n        fetching: true\n    });\n\n    const res = await this.chain.readTable(\"eosknightsio\", \"itemevt\");\n    console.log(res.data);\n\n    this.setState({\n      info: res.data.rows[0],\n      fetching: false,\n      imgUrl:`https://eosknights.io/img/resource/origin/item/item_${res.data.rows[0].code}.png`\n    });    \n  }\n\n  componentDidMount() {\n    this.fetchItemEventInfo();\n  }\n\n  render() {\n    const {fetching, info, imgUrl, sponsor} = this.state;\n\n    return (\n      <PostWrapper>\n        <EventPost\n            body={imgUrl}\n            sponsor={sponsor}\n            imgUrl={imgUrl}\n        />\n      </PostWrapper>\n    );\n  }\n}\n\nexport default PostContainer;\n","import ScatterJS from 'scatterjs-core';\nimport ScatterEOS from 'scatterjs-plugin-eosjs';\nimport Eos from 'eosjs';\n\nexport default class ScatterBridge {\n\n  constructor(network, appName) {\n    this.appName = appName;\n    ScatterJS.plugins(new ScatterEOS());\n\n    this.account = null;\n    this.eosOptions = { expireInSeconds:60 };\n    this.isConnected = false;\n    this.contract = null;\n\n    this.eosApi = null;\n    this.net = ScatterJS.Network.fromJson(network);\n    this.auth = null;\n  }\n\n  async connect() {\n    const network = this.net;\n    this.isConnected = await ScatterJS.connect(this.appName, {network});\n    if (!this.isConnected) {\n      return console.error('connection failed');\n    }\n\n    this.eosApi = ScatterJS.eos(this.net, Eos);\n    await ScatterJS.login().then(id => {\n        if(!id) return console.error('no identity');\n        this.account = ScatterJS.account('eos');\n        this.auth = {authorization:[`${this.account.name}@${this.account.authority}`]};\n    });\n  }\n\n  async loadContract(name) {\n    this.contract = await this.eosApi.contract(name);\n  }\n}","import React, { Component } from \"react\";\nimport { Header, PostWrapper } from \"./Components\";\nimport { PostContainer } from \"./Containers\";\nimport ScatterBridge from \"./Utils/ScatterBridge\";\nimport Config from \"./Config\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    };\n\n    this.scatter = new ScatterBridge(Config.network, \"EK Event\");\n    this.onClick = this.onClick.bind(this);\n  }\n\n  async onClick() {\n    const scatter = this.scatter;\n    await scatter.connect();\n    await scatter.loadContract(\"eosknightsio\");\n    await scatter.contract.signup(scatter.account.name, scatter.auth);\n  }\n\n  render() {\n    return (\n      <div>\n        <Header/>\n        <PostContainer/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}