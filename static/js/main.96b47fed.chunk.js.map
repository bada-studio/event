{"version":3,"sources":["Components/PostWrapper/PostWrapper.js","Config.js","Components/EventPost/EventPost.js","Components/SimpleLoader/SimpleLoader.js","Services/ChainService.js","Containers/PostContainer/PostContainer.js","Utils/ScatterBridge.js","App.js","index.js"],"names":["PostWrapper","_ref","children","react_default","a","createElement","className","Config","sponsor","itemName","itemGrade","network","blockchain","chainId","host","port","protocol","url","bastet","EventPost","state","inputDisabled","time","gotThis","timeColor","imgUrl","onClickGet","onChangeName","src","Card","centered","Label","basic","color","Content","Header","Meta","extra","Input","fluid","icon","iconPosition","placeholder","onChange","disabled","action","content","onClick","SimpleLoader","active","Dimmer","Loader","ChainService","_Config$network","concat","code","table","this","getTableUrl","data","scope","json","axios","post","headers","content-type","from","keyType","lower_bound","upper_bound","key_type","index_position","limit","res","rows","length","PostContainer","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","fetchItemEventInfo","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setState","fetching","chain","readTable","sent","info","updateReaminText","timer","setInterval","stop","handleChange","e","name","target","value","_callee2","player","playerv","_context2","abrupt","Alert","error","position","effect","beep","timeout","readTableRow","owner","itemevt","id","getEventItem","duration","remain","hours","String","Math","floor","padStart","mins","secs","_this$state$info","end","now","Date","getRemainText","get","then","response","success","catch","_this$state","Components_PostWrapper_PostWrapper","Components_EventPost_EventPost","Components_SimpleLoader_SimpleLoader","Component","ScatterBridge","appName","ScatterJS","plugins","ScatterEOS","account","eosOptions","expireInSeconds","isConnected","contract","eosApi","net","Network","fromJson","auth","connect","console","eos","Eos","login","authorization","authority","App","scatter","bind","assertThisInitialized","loadContract","signup","Containers_PostContainer_PostContainer","react_s_alert_default","stack","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.96b47fed.chunk.js","sourcesContent":["import React from 'react';\nimport './PostWrapper.css'\n\nconst PostWrapper = ({children}) => {\n    return (\n        <div className=\"PostWrapper\">\n            {children}\n        </div>\n    );\n};\n\nexport default PostWrapper;\n","const Config = {\n  sponsor: \"EOS Nation\",\n  itemName: \"Nation Armor\",\n  itemGrade: \"Rare\",\n  network: {\n    blockchain:'eos',\n    chainId:'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',\n    host: \"api.eoseoul.io\",\n    port:443,\n    protocol:'https'\n  },\n  url: {\n    bastet:\"https://bastet.eosknights.io/event/item/\",\n  }\n};\n\nexport default Config;\n","import React from 'react';\nimport { Input, Card, Label } from 'semantic-ui-react';\nimport Config from '../../Config';\nimport './EventPost.css';\n\nconst EventPost = ({state, inputDisabled, gotThis, time, timeColor, imgUrl, onClickGet, onChangeName}) => (\n  <div className=\"EventPost\">\n    <div>\n      <img className=\"SponsorIcon\" src=\"https://eosknights.io/img/icon.png\"/>\n      <img className=\"CrossIcon\" src=\"https://eosknights.io/img/cross.png\"/>\n      <img className=\"SponsorIcon\" src=\"https://eosknights.io/img/bp/eosnation.png\"/>\n    </div>\n    <div className=\"Sponsor\">\n      Make your EOS fun with {Config.sponsor}\n    </div>\n\n    <Card centered>\n      <div className=\"ImgBox\">\n        <img src={imgUrl} className=\"ItemImage\"/>\n        <Label basic color={timeColor}>\n          {time}\n        </Label>        \n      </div>\n\n      <Card.Content>\n        <Card.Header>{Config.itemName}</Card.Header>\n        <Card.Meta>\n          <span className='date'>{Config.itemGrade}</span>\n        </Card.Meta>\n      </Card.Content>\n      <Card.Content extra>\n        <Input \n          fluid\n          icon=\"user\"\n          iconPosition='left'\n          placeholder='EOS Account Id' \n          onChange={onChangeName}\n          disabled={inputDisabled}\n          action={{ color: 'teal', content: 'Get', onClick:onClickGet }} />\n      </Card.Content>\n    </Card>\n  </div>\n);\n\nexport default EventPost;","import React from 'react'\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport './SimpleLoader.css'\n\nconst SimpleLoader = ({active}) => (\n  <div>\n    { active ? \n    <div className=\"SimpleLoader\">\n      <Dimmer active={active}>\n        <Loader />\n      </Dimmer>\n    </div>\n  : null }\n  </div>\n)\n\nexport default SimpleLoader","import axios from 'axios';\nimport Config from '../Config';\n\nexport default class ChainService {\n  getTableUrl() {\n    const { protocol, host, port } = Config.network;\n    return `${protocol}://${host}:${port}/v1/chain/get_table_rows`;\n  }\n\n  async readTable(code, table) {\n    const url = this.getTableUrl();\n    const data = {\n      scope: code,\n      code: code,\n      table: table,\n      json: true\n    };\n\n    try {\n      return await axios.post(url, data, {\n        headers: { \n          'content-type': 'text/plain'\n        }\n      });\n    } catch (e) {\n      return null;\n      console.log(e);\n    }\n  }\n\n  async readTableRow(code, table, from, keyType = \"name\") {\n    const url = this.getTableUrl();\n    const data = {\n      scope: code,\n      code: code,\n      table: table,\n      lower_bound: from,\n      upper_bound: null,\n      key_type: keyType,\n      index_position: 1,\n      limit: 1,\n      json: true\n    };\n\n    try {\n      const res = await axios.post(url, data, {\n        headers: { \n          'content-type': 'text/plain'\n        }\n      });\n\n      if (res.data === null || res.data.rows === null || res.data.rows.length === 0) {\n        return null;\n      }\n\n      return res.data.rows[0];\n    } catch (e) {\n      return null;\n      console.log(e);\n    }\n  }\n}","import React, {Component} from 'react';\nimport { PostWrapper, EventPost, SimpleLoader } from '../../Components';\nimport { ChainService } from \"../../Services\";\nimport Config from \"../../Config\";\nimport Alert from 'react-s-alert';\nimport axios from 'axios';\n\nclass PostContainer extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      fetching: false, \n      info: {\n        id:0,\n        code:0,\n        from:0,\n        duration:0,\n      },\n      name:\"\",\n      imgUrl:\"\",\n      time: \"CLOSED\",\n      timeColor: \"grey\", \n      state: \"CLOSED\",\n      inputDisabled: true\n    };\n\n    this.chain = new ChainService(Config.network);\n  }\n\n  getRemainText(remain) {\n    const hours = String(Math.floor(remain / (60 * 60))).padStart(2, '0');\n    const mins = String(Math.floor(remain / 60) % 60).padStart(2, '0');\n    const secs = String(remain % 60).padStart(2, '0');\n    return `${hours}:${mins}:${secs}`;\n  }\n\n  updateReaminText() {\n    const { from, duration } = this.state.info;\n    const end = from + duration;\n    const now = Math.floor(Date.now() / 1000);\n\n    if (end < now) {\n      this.setState({\n        time: \"CLOSED\",\n        timeColor: \"grey\",\n        state: \"CLOSED\",\n        inputDisabled: true\n      });\n    } else if (now < from) {\n      const remain = this.getRemainText(from - now);\n      this.setState({\n        time: `-${remain}`,\n        timeColor: \"grey\",\n        state: \"READY\",\n        inputDisabled: true\n      });\n    } else {\n      const remain = this.getRemainText(end - now);\n      this.setState({\n        time: `${remain}`,\n        timeColor: \"green\",\n        state: \"RUN\",\n        inputDisabled: false\n      });\n    }\n  }\n\n  fetchItemEventInfo = async() => {\n    this.setState({\n        fetching: true\n    });\n\n    const res = await this.chain.readTable(\"eosknightsio\", \"itemevt\");\n    this.setState({\n      info: res.data.rows[0],\n      fetching: false,\n      imgUrl:`https://eosknights.io/img/resource/big/item/item_${res.data.rows[0].code}.png`\n    });\n\n    this.updateReaminText();\n    this.timer = setInterval(() => this.updateReaminText(), 1000);\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  onClickGet = async() => {\n    if (this.state.state !== \"RUN\") {\n      return;\n    }\n\n    if (!this.state.name) {\n      Alert.error('Please fill out your eos accout id first', {\n        position: 'top-right',\n        effect: 'slide',\n        beep: false,\n        timeout: 3000\n      });\n      return;\n    }\n\n    this.setState({\n      fetching: true\n    });\n\n    const player = await this.chain.readTableRow(\"eosknightsio\", \"player\", this.state.name);\n    const playerv = await this.chain.readTableRow(\"eosknightsio\", \"playerv2\", this.state.name);\n    this.setState({\n      fetching: false\n    });\n\n    if (player == null || player.owner !== this.state.name) {\n      Alert.error('Sign up the EOS Knights first!', {\n        position: 'top-right',\n        effect: 'slide',\n        beep: false,\n        timeout: 3000\n      });    \n      return;\n    }\n\n    if (playerv !== null && playerv.owner === this.state.name && playerv.itemevt === this.state.info.id) {\n      Alert.error(`You've already got '${Config.itemName}'`, {\n        position: 'top-right',\n        effect: 'slide',\n        beep: false,\n        timeout: 3000\n      });    \n      return;\n    }\n\n    await this.getEventItem();\n  }\n\n  async getEventItem() {\n    this.setState({\n      fetching: true\n    });\n\n    const url = Config.url.bastet + this.state.name;\n    await axios.get(url)\n      .then(function (response) {\n        Alert.success(`You got a '${Config.itemName}'!`, {\n          position: 'top-right',\n          effect: 'slide',\n          beep: false,\n          timeout: 7000\n        });\n      })\n      .catch(function (error) {\n        Alert.error(`Can not get a '${Config.itemName}'`, {\n          position: 'top-right',\n          effect: 'slide',\n          beep: false,\n          timeout: 3000\n        });    \n      });\n\n    this.setState({\n      fetching: false\n    });\n  }\n\n  componentDidMount() {\n    this.fetchItemEventInfo();\n  }\n\n  render() {\n    const { \n      fetching, \n      time,\n      timeColor,\n      imgUrl, \n      inputDisabled\n    } = this.state;\n\n    return (\n      <PostWrapper>\n        <EventPost\n            imgUrl={imgUrl}\n            time={time}\n            timeColor={timeColor}\n            inputDisabled={inputDisabled}\n            onClickGet={this.onClickGet}\n            onChangeName={this.handleChange}\n        />\n        <SimpleLoader\n          active={fetching}\n        />\n      </PostWrapper>\n    );\n  }\n}\n\nexport default PostContainer;\n","import ScatterJS from 'scatterjs-core';\nimport ScatterEOS from 'scatterjs-plugin-eosjs';\nimport Eos from 'eosjs';\n\nexport default class ScatterBridge {\n\n  constructor(network, appName) {\n    this.appName = appName;\n    ScatterJS.plugins(new ScatterEOS());\n\n    this.account = null;\n    this.eosOptions = { expireInSeconds:60 };\n    this.isConnected = false;\n    this.contract = null;\n\n    this.eosApi = null;\n    this.net = ScatterJS.Network.fromJson(network);\n    this.auth = null;\n  }\n\n  async connect() {\n    const network = this.net;\n    this.isConnected = await ScatterJS.connect(this.appName, {network});\n    if (!this.isConnected) {\n      return console.error('connection failed');\n    }\n\n    this.eosApi = ScatterJS.eos(this.net, Eos);\n    await ScatterJS.login().then(id => {\n        if(!id) return console.error('no identity');\n        this.account = ScatterJS.account('eos');\n        this.auth = {authorization:[`${this.account.name}@${this.account.authority}`]};\n    });\n  }\n\n  async loadContract(name) {\n    this.contract = await this.eosApi.contract(name);\n  }\n}","import React, { Component } from \"react\";\nimport { PostContainer } from \"./Containers\";\nimport ScatterBridge from \"./Utils/ScatterBridge\";\nimport Config from \"./Config\";\nimport Alert from 'react-s-alert';\n\nimport 'react-s-alert/dist/s-alert-default.css';\nimport 'react-s-alert/dist/s-alert-css-effects/slide.css';\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n    };\n\n    this.scatter = new ScatterBridge(Config.network, \"EK Event\");\n    this.onClick = this.onClick.bind(this);\n  }\n\n  async onClick() {\n    const scatter = this.scatter;\n    await scatter.connect();\n    await scatter.loadContract(\"eosknightsio\");\n    await scatter.contract.signup(scatter.account.name, scatter.auth);\n  }\n\n  render() {\n    return (\n      <div>\n        <PostContainer/>\n        <Alert stack={{limit: 3}} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}